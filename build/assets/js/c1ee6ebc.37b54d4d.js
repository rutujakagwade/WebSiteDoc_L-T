"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7407],{8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>d});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},8675:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"architecture","title":"System Architecture","description":"High-Level Architecture","source":"@site/docs/02_architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02_architecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Tutorial Intro","permalink":"/docs/intro"},"next":{"title":"Tutorial - Basics","permalink":"/docs/category/tutorial---basics"}}');var t=i(4848),s=i(8453);const l={},d="System Architecture",c={},a=[{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"System Components",id:"system-components",level:2},{value:"Frontend Architecture",id:"frontend-architecture",level:3},{value:"Backend Architecture",id:"backend-architecture",level:3},{value:"Database Design",id:"database-design",level:3},{value:"Authentication Flow",id:"authentication-flow",level:2},{value:"Data Flow",id:"data-flow",level:2},{value:"Security Architecture",id:"security-architecture",level:2},{value:"Scalability Considerations",id:"scalability-considerations",level:2},{value:"Design Decisions",id:"design-decisions",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"system-architecture",children:"System Architecture"})}),"\n",(0,t.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:'graph TB\r\n    subgraph "Frontend (Expo React Native)"\r\n        M[Mobile App]\r\n        W[Web App]\r\n        subgraph "State Management"\r\n            AS[AsyncStorage]\r\n            C[Context API]\r\n        end\r\n        subgraph "Navigation"\r\n            ER[Expo Router]\r\n            BT[Bottom Tabs]\r\n        end\r\n    end\r\n\r\n    subgraph "Backend (Node.js)"\r\n        API[Express API]\r\n        subgraph "Middleware"\r\n            Auth[JWT Auth]\r\n            Upload[File Upload]\r\n        end\r\n        subgraph "Services"\r\n            Email[Email Service]\r\n            Cloud[Cloudinary]\r\n        end\r\n    end\r\n\r\n    subgraph "Database"\r\n        Mongo[MongoDB]\r\n        subgraph "Collections"\r\n            Members\r\n            Journeys\r\n            Expenses\r\n            Balance\r\n        end\r\n    end\r\n\r\n    M --\x3e API\r\n    W --\x3e API\r\n    API --\x3e Auth\r\n    API --\x3e Upload\r\n    Upload --\x3e Cloud\r\n    API --\x3e Email\r\n    API --\x3e Mongo\n'})}),"\n",(0,t.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Technology"}),(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Alternative Options"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Frontend"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Mobile/Web Framework"}),(0,t.jsx)(n.td,{children:"Expo"}),(0,t.jsx)(n.td,{children:"53.0.23"}),(0,t.jsx)(n.td,{children:"Cross-platform development"}),(0,t.jsx)(n.td,{children:"React Native CLI, Flutter"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Navigation"}),(0,t.jsx)(n.td,{children:"Expo Router"}),(0,t.jsx)(n.td,{children:"7.x"}),(0,t.jsx)(n.td,{children:"Type-safe routing"}),(0,t.jsx)(n.td,{children:"React Navigation"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"State Management"}),(0,t.jsx)(n.td,{children:"Context API + AsyncStorage"}),(0,t.jsx)(n.td,{children:"Built-in"}),(0,t.jsx)(n.td,{children:"Local state & persistence"}),(0,t.jsx)(n.td,{children:"Redux, MobX"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"UI Components"}),(0,t.jsx)(n.td,{children:"Native Base"}),(0,t.jsx)(n.td,{children:"Latest"}),(0,t.jsx)(n.td,{children:"UI component library"}),(0,t.jsx)(n.td,{children:"React Native Paper"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Backend"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Server"}),(0,t.jsx)(n.td,{children:"Node.js + Express"}),(0,t.jsx)(n.td,{children:"18.x + 5.1.0"}),(0,t.jsx)(n.td,{children:"API server"}),(0,t.jsx)(n.td,{children:"NestJS, Fastify"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Authentication"}),(0,t.jsx)(n.td,{children:"JWT"}),(0,t.jsx)(n.td,{children:"9.0.2"}),(0,t.jsx)(n.td,{children:"Stateless authentication"}),(0,t.jsx)(n.td,{children:"Session-based, OAuth"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"File Storage"}),(0,t.jsx)(n.td,{children:"Cloudinary"}),(0,t.jsx)(n.td,{children:"Latest"}),(0,t.jsx)(n.td,{children:"Media file storage"}),(0,t.jsx)(n.td,{children:"AWS S3, Firebase Storage"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Email"}),(0,t.jsx)(n.td,{children:"Nodemailer"}),(0,t.jsx)(n.td,{children:"7.0.6"}),(0,t.jsx)(n.td,{children:"Email notifications"}),(0,t.jsx)(n.td,{children:"SendGrid, AWS SES"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Database"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Primary Database"}),(0,t.jsx)(n.td,{children:"MongoDB"}),(0,t.jsx)(n.td,{children:"8.18.0"}),(0,t.jsx)(n.td,{children:"Data persistence"}),(0,t.jsx)(n.td,{children:"PostgreSQL, MySQL"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ODM"}),(0,t.jsx)(n.td,{children:"Mongoose"}),(0,t.jsx)(n.td,{children:"8.x"}),(0,t.jsx)(n.td,{children:"Database modeling"}),(0,t.jsx)(n.td,{children:"Prisma, TypeORM"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"DevOps"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Containerization"}),(0,t.jsx)(n.td,{children:"Docker"}),(0,t.jsx)(n.td,{children:"Latest"}),(0,t.jsx)(n.td,{children:"Deployment packaging"}),(0,t.jsx)(n.td,{children:"Kubernetes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Process Manager"}),(0,t.jsx)(n.td,{children:"PM2"}),(0,t.jsx)(n.td,{children:"Latest"}),(0,t.jsx)(n.td,{children:"Production process management"}),(0,t.jsx)(n.td,{children:"Forever, Nodemon"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"system-components",children:"System Components"}),"\n",(0,t.jsx)(n.h3,{id:"frontend-architecture",children:"Frontend Architecture"}),"\n",(0,t.jsx)(n.p,{children:"The frontend is built as an Expo bare workflow application, providing:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Native platform capabilities with Expo's development features"}),"\n",(0,t.jsx)(n.li,{children:"Type safety with TypeScript"}),"\n",(0,t.jsx)(n.li,{children:"File-based routing with Expo Router"}),"\n",(0,t.jsx)(n.li,{children:"Role-based UI components (Admin/User)"}),"\n",(0,t.jsx)(n.li,{children:"Offline data persistence with AsyncStorage"}),"\n",(0,t.jsx)(n.li,{children:"JWT token management for authentication"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"backend-architecture",children:"Backend Architecture"}),"\n",(0,t.jsx)(n.p,{children:"The backend follows a modular MVC pattern:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Routes \u2192 Controllers \u2192 Services \u2192 Models flow"}),"\n",(0,t.jsx)(n.li,{children:"Middleware-based authentication and authorization"}),"\n",(0,t.jsx)(n.li,{children:"File upload handling with Cloudinary integration"}),"\n",(0,t.jsx)(n.li,{children:"Email service integration with Nodemailer"}),"\n",(0,t.jsx)(n.li,{children:"Error handling middleware for consistent responses"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"database-design",children:"Database Design"}),"\n",(0,t.jsx)(n.p,{children:"MongoDB collections with Mongoose schemas:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Members (users, admins)"}),"\n",(0,t.jsx)(n.li,{children:"Journeys (travel records)"}),"\n",(0,t.jsx)(n.li,{children:"Expenses (cost tracking)"}),"\n",(0,t.jsx)(n.li,{children:"Balance (financial records)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\r\n    participant User\r\n    participant App\r\n    participant API\r\n    participant DB\r\n\r\n    User->>App: Enter Credentials\r\n    App->>API: POST /api/auth/login\r\n    API->>DB: Verify Credentials\r\n    DB->>API: User Found\r\n    API->>App: JWT Token\r\n    App->>App: Store Token in AsyncStorage\r\n    App->>User: Redirect to Dashboard\r\n\r\n    Note over App,API: All subsequent requests\r\n    App->>API: Request with Bearer Token\r\n    API->>API: Verify Token\r\n    API->>DB: Authorized DB Operation\n"})}),"\n",(0,t.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\r\n    participant Frontend\r\n    participant Backend\r\n    participant Database\r\n    participant CloudStorage\r\n\r\n    Frontend->>Backend: API Request + JWT\r\n    Backend->>Backend: Validate Token\r\n    Backend->>Database: Query Data\r\n    Backend->>CloudStorage: Upload/Fetch Files\r\n    CloudStorage->>Backend: File URLs\r\n    Database->>Backend: Query Results\r\n    Backend->>Frontend: JSON Response\n"})}),"\n",(0,t.jsx)(n.h2,{id:"security-architecture",children:"Security Architecture"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Authentication"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JWT-based token authentication"}),"\n",(0,t.jsx)(n.li,{children:"Role-based access control (user, admin, superadmin)"}),"\n",(0,t.jsx)(n.li,{children:"Token expiration and refresh mechanism"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Data Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HTTPS for all API communication"}),"\n",(0,t.jsx)(n.li,{children:"Password hashing with bcryptjs"}),"\n",(0,t.jsx)(n.li,{children:"Environment variable-based secrets"}),"\n",(0,t.jsx)(n.li,{children:"File upload validation and sanitization"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"API Security"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CORS configuration"}),"\n",(0,t.jsx)(n.li,{children:"Rate limiting (recommended)"}),"\n",(0,t.jsx)(n.li,{children:"Input validation middleware"}),"\n",(0,t.jsx)(n.li,{children:"Error handling without sensitive data exposure"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"scalability-considerations",children:"Scalability Considerations"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Frontend"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Code splitting for optimal bundle size"}),"\n",(0,t.jsx)(n.li,{children:"Asset preloading strategies"}),"\n",(0,t.jsx)(n.li,{children:"Offline-first capabilities"}),"\n",(0,t.jsx)(n.li,{children:"Performance monitoring integration"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Horizontal scaling with Docker"}),"\n",(0,t.jsx)(n.li,{children:"Load balancer support"}),"\n",(0,t.jsx)(n.li,{children:"MongoDB replica sets"}),"\n",(0,t.jsx)(n.li,{children:"Caching strategies (recommended)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Infrastructure"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Container orchestration readiness"}),"\n",(0,t.jsx)(n.li,{children:"CI/CD pipeline support"}),"\n",(0,t.jsx)(n.li,{children:"Monitoring and logging infrastructure"}),"\n",(0,t.jsx)(n.li,{children:"Backup and disaster recovery procedures"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"design-decisions",children:"Design Decisions"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Expo Bare Workflow"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Provides native customization capability"}),"\n",(0,t.jsx)(n.li,{children:"Maintains Expo development features"}),"\n",(0,t.jsx)(n.li,{children:"Enables custom native modules"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"MongoDB"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Flexible schema for rapid development"}),"\n",(0,t.jsx)(n.li,{children:"Excellent scalability characteristics"}),"\n",(0,t.jsx)(n.li,{children:"Native support for JSON data"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JWT Authentication"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Stateless authentication for scalability"}),"\n",(0,t.jsx)(n.li,{children:"Reduced database queries"}),"\n",(0,t.jsx)(n.li,{children:"Simple mobile client implementation"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Cloudinary Integration"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Managed file storage and optimization"}),"\n",(0,t.jsx)(n.li,{children:"CDN capabilities"}),"\n",(0,t.jsx)(n.li,{children:"Image transformation features"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);