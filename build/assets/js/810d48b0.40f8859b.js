"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9576],{6253:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"database","title":"Database Documentation","description":"Overview","source":"@site/docs/05_database.md","sourceDirName":".","slug":"/database","permalink":"/docs/database","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/05_database.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"API Reference","permalink":"/docs/api_reference"},"next":{"title":"Build & Release Guide","permalink":"/docs/build_release"}}');var i=r(4848),d=r(8453);const t={},l="Database Documentation",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Connection Architecture",id:"connection-architecture",level:2},{value:"Development",id:"development",level:3},{value:"Production",id:"production",level:3},{value:"Connection Configuration",id:"connection-configuration",level:3},{value:"Database Schema",id:"database-schema",level:2},{value:"Members Collection",id:"members-collection",level:3},{value:"Journeys Collection",id:"journeys-collection",level:3},{value:"Expenses Collection",id:"expenses-collection",level:3},{value:"Balance Collection",id:"balance-collection",level:3},{value:"Relationships",id:"relationships",level:2},{value:"Sample Documents",id:"sample-documents",level:2},{value:"Member Document",id:"member-document",level:3},{value:"Journey Document",id:"journey-document",level:3},{value:"Backup and Restore",id:"backup-and-restore",level:2},{value:"Backup Database",id:"backup-database",level:3},{value:"Restore Database",id:"restore-database",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Indexes",id:"indexes",level:3},{value:"Query Optimization Tips",id:"query-optimization-tips",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Monitoring",id:"monitoring",level:2},{value:"Key Metrics to Monitor",id:"key-metrics-to-monitor",level:3},{value:"MongoDB Compass Monitoring",id:"mongodb-compass-monitoring",level:3},{value:"Migration Strategy",id:"migration-strategy",level:2},{value:"Development Guidelines",id:"development-guidelines",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"database-documentation",children:"Database Documentation"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The L&T Sales Tracker application uses MongoDB (version 8.x) as its primary database. The database is designed to support user management, journey tracking, expense management, and financial record keeping."}),"\n",(0,i.jsx)(n.h2,{id:"connection-architecture",children:"Connection Architecture"}),"\n",(0,i.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"mongodb://localhost:27017/lt-sales-tracker\n"})}),"\n",(0,i.jsx)(n.h3,{id:"production",children:"Production"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"mongodb+srv://<username>:<password>@<cluster>.mongodb.net/lt-sales-tracker?retryWrites=true&w=majority\n"})}),"\n",(0,i.jsx)(n.h3,{id:"connection-configuration",children:"Connection Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// backend/config/db.js\r\n{\r\n  useNewUrlParser: true,\r\n  useUnifiedTopology: true,\r\n  maxPoolSize: 10,\r\n  serverSelectionTimeoutMS: 5000,\r\n  socketTimeoutMS: 45000\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"database-schema",children:"Database Schema"}),"\n",(0,i.jsx)(n.h3,{id:"members-collection",children:"Members Collection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"erDiagram\r\n    Member {\r\n        ObjectId _id\r\n        String name\r\n        String email\r\n        String password\r\n        String role\r\n        String inviteToken\r\n        String status\r\n        Number balance\r\n        String avatar\r\n        String style\r\n        String seed\r\n        Date createdAt\r\n        Date updatedAt\r\n    }\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields Description:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"null"}),(0,i.jsx)(n.td,{children:"User's full name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Unique email address (lowercase)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"password"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Hashed password"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"role"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:'Either "admin" or "user"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"inviteToken"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"null"}),(0,i.jsx)(n.td,{children:"Token for registration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"status"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:'"pending"'}),(0,i.jsx)(n.td,{children:'"pending", "active", or "inactive"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"balance"}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:"User's current balance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"avatar"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"null"}),(0,i.jsx)(n.td,{children:"Profile picture URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"style"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"null"}),(0,i.jsx)(n.td,{children:"UI preference"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"seed"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"null"}),(0,i.jsx)(n.td,{children:"Avatar generation seed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Indexes:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"{ email: 1 } // unique\r\n{ inviteToken: 1 } // sparse\n"})}),"\n",(0,i.jsx)(n.h3,{id:"journeys-collection",children:"Journeys Collection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"erDiagram\r\n    Journey {\r\n        ObjectId _id\r\n        ObjectId user\r\n        String title\r\n        String description\r\n        String status\r\n        String purpose\r\n        Object startLocation\r\n        Object endLocation\r\n        Array routeCoords\r\n        Date createdAt\r\n        Date updatedAt\r\n    }\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields Description:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"user"}),(0,i.jsx)(n.td,{children:"ObjectId"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Reference to Member"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"title"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Journey title"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"description"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Journey details"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"status"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Journey status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"purpose"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Journey purpose"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"startLocation"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Starting coordinates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"endLocation"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Ending coordinates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"routeCoords"}),(0,i.jsx)(n.td,{children:"Array"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Journey route points"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Location Object Structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"{\r\n  latitude: Number,\r\n  longitude: Number\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Indexes:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"{ user: 1 }\r\n{ status: 1 }\r\n{ createdAt: 1 }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"expenses-collection",children:"Expenses Collection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"erDiagram\r\n    Expense {\r\n        ObjectId _id\r\n        ObjectId user\r\n        ObjectId journey\r\n        Number amount\r\n        String category\r\n        String description\r\n        String status\r\n        String receiptUrl\r\n        Date date\r\n        Date createdAt\r\n        Date updatedAt\r\n    }\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields Description:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"user"}),(0,i.jsx)(n.td,{children:"ObjectId"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Reference to Member"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"journey"}),(0,i.jsx)(n.td,{children:"ObjectId"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Related journey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"amount"}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Expense amount"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"category"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Expense category"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"description"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Details"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"status"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Approval status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"receiptUrl"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Receipt image URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"date"}),(0,i.jsx)(n.td,{children:"Date"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Expense date"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Indexes:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"{ user: 1 }\r\n{ journey: 1 }\r\n{ status: 1 }\r\n{ date: 1 }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"balance-collection",children:"Balance Collection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"erDiagram\r\n    Balance {\r\n        ObjectId _id\r\n        ObjectId user\r\n        Number amount\r\n        String type\r\n        String description\r\n        ObjectId reference\r\n        Date createdAt\r\n        Date updatedAt\r\n    }\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields Description:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"user"}),(0,i.jsx)(n.td,{children:"ObjectId"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Reference to Member"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"amount"}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Transaction amount"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"type"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:'"credit" or "debit"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"description"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Transaction details"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"reference"}),(0,i.jsx)(n.td,{children:"ObjectId"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Related expense/journey"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Indexes:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"{ user: 1 }\r\n{ type: 1 }\r\n{ createdAt: 1 }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"relationships",children:"Relationships"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Member \u2192 Journeys"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One-to-Many"}),"\n",(0,i.jsx)(n.li,{children:"Member._id \u2192 Journey.user"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Member \u2192 Expenses"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One-to-Many"}),"\n",(0,i.jsx)(n.li,{children:"Member._id \u2192 Expense.user"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Journey \u2192 Expenses"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One-to-Many"}),"\n",(0,i.jsx)(n.li,{children:"Journey._id \u2192 Expense.journey"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Member \u2192 Balance"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One-to-Many"}),"\n",(0,i.jsx)(n.li,{children:"Member._id \u2192 Balance.user"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"sample-documents",children:"Sample Documents"}),"\n",(0,i.jsx)(n.h3,{id:"member-document",children:"Member Document"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "_id": "507f1f77bcf86cd799439011",\r\n  "name": "John Doe",\r\n  "email": "john.doe@example.com",\r\n  "role": "user",\r\n  "status": "active",\r\n  "balance": 1000,\r\n  "createdAt": "2025-10-07T10:00:00Z",\r\n  "updatedAt": "2025-10-07T10:00:00Z"\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"journey-document",children:"Journey Document"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "_id": "507f1f77bcf86cd799439012",\r\n  "user": "507f1f77bcf86cd799439011",\r\n  "title": "Client Visit - Mumbai",\r\n  "status": "completed",\r\n  "purpose": "Sales Meeting",\r\n  "startLocation": {\r\n    "latitude": 19.0760,\r\n    "longitude": 72.8777\r\n  },\r\n  "endLocation": {\r\n    "latitude": 18.5204,\r\n    "longitude": 73.8567\r\n  },\r\n  "createdAt": "2025-10-07T11:00:00Z"\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"backup-and-restore",children:"Backup and Restore"}),"\n",(0,i.jsx)(n.h3,{id:"backup-database",children:"Backup Database"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Local backup\r\nmongodump --db lt-sales-tracker --out /backup/\r\n\r\n# Atlas backup\r\nmongodump --uri "mongodb+srv://<username>:<password>@<cluster>.mongodb.net/lt-sales-tracker" --out /backup/\n'})}),"\n",(0,i.jsx)(n.h3,{id:"restore-database",children:"Restore Database"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Local restore\r\nmongorestore --db lt-sales-tracker /backup/lt-sales-tracker/\r\n\r\n# Atlas restore\r\nmongorestore --uri "mongodb+srv://<username>:<password>@<cluster>.mongodb.net" --db lt-sales-tracker /backup/lt-sales-tracker/\n'})}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"indexes",children:"Indexes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Create indexes for frequent queries\r\ndb.members.createIndex({ "email": 1 }, { unique: true });\r\ndb.journeys.createIndex({ "user": 1, "status": 1 });\r\ndb.expenses.createIndex({ "user": 1, "date": 1 });\r\ndb.balances.createIndex({ "user": 1, "createdAt": 1 });\n'})}),"\n",(0,i.jsx)(n.h3,{id:"query-optimization-tips",children:"Query Optimization Tips"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Use projection to limit fields returned"}),"\n",(0,i.jsx)(n.li,{children:"Implement pagination for large result sets"}),"\n",(0,i.jsx)(n.li,{children:"Use compound indexes for frequent query patterns"}),"\n",(0,i.jsx)(n.li,{children:"Avoid nested arrays with unbounded growth"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Access Control"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use role-based access control"}),"\n",(0,i.jsx)(n.li,{children:"Implement field-level encryption for sensitive data"}),"\n",(0,i.jsx)(n.li,{children:"Regular audit of database users and permissions"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Data Encryption"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Passwords are hashed using bcrypt"}),"\n",(0,i.jsx)(n.li,{children:"Consider enabling encryption at rest"}),"\n",(0,i.jsx)(n.li,{children:"Use SSL/TLS for database connections"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Backup Security"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Encrypt backup files"}),"\n",(0,i.jsx)(n.li,{children:"Store backups in secure location"}),"\n",(0,i.jsx)(n.li,{children:"Regular backup verification"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,i.jsx)(n.h3,{id:"key-metrics-to-monitor",children:"Key Metrics to Monitor"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Connection pool utilization"}),"\n",(0,i.jsx)(n.li,{children:"Query performance (slow queries)"}),"\n",(0,i.jsx)(n.li,{children:"Index usage statistics"}),"\n",(0,i.jsx)(n.li,{children:"Storage usage and growth rate"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mongodb-compass-monitoring",children:"MongoDB Compass Monitoring"}),"\n",(0,i.jsx)(n.p,{children:"Connect to your database using MongoDB Compass to monitor:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Collection statistics"}),"\n",(0,i.jsx)(n.li,{children:"Index usage"}),"\n",(0,i.jsx)(n.li,{children:"Query performance"}),"\n",(0,i.jsx)(n.li,{children:"Schema validation"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"migration-strategy",children:"Migration Strategy"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Creating Migrations"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// migrations/YYYYMMDD_description.js\r\nexport async function up() {\r\n  // Update logic\r\n}\r\n\r\nexport async function down() {\r\n  // Rollback logic\r\n}\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Running Migrations"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node migrate.js up\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rolling Back"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node migrate.js down\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"development-guidelines",children:"Development Guidelines"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Schema Changes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create migration script"}),"\n",(0,i.jsx)(n.li,{children:"Update models"}),"\n",(0,i.jsx)(n.li,{children:"Update related controllers"}),"\n",(0,i.jsx)(n.li,{children:"Test data consistency"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Adding Indexes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Analyze query patterns"}),"\n",(0,i.jsx)(n.li,{children:"Test index performance"}),"\n",(0,i.jsx)(n.li,{children:"Create in non-peak hours"}),"\n",(0,i.jsx)(n.li,{children:"Monitor index size"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Data Validation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use Mongoose schema validation"}),"\n",(0,i.jsx)(n.li,{children:"Implement custom validators"}),"\n",(0,i.jsx)(n.li,{children:"Add error handling"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const i={},d=s.createContext(i);function t(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);