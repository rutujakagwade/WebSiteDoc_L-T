"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9133],{8198:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api_reference","title":"API Reference","description":"Overview","source":"@site/docs/04_api_reference.md","sourceDirName":".","slug":"/api_reference","permalink":"/WebSiteDoc_L-T/docs/api_reference","draft":false,"unlisted":false,"editUrl":"https://github.com/rutujakagwade/WebSiteDoc_L-T/edit/main/docs/04_api_reference.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Translate your site","permalink":"/WebSiteDoc_L-T/docs/tutorial-extras/translate-your-site"},"next":{"title":"Database Documentation","permalink":"/WebSiteDoc_L-T/docs/database"}}');var i=r(4848),t=r(8453);const a={},l="API Reference",d={},o=[{value:"Overview",id:"overview",level:2},{value:"Base URL",id:"base-url",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Roles",id:"roles",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Authentication",id:"authentication-1",level:3},{value:"POST /api/auth/login",id:"post-apiauthlogin",level:4},{value:"POST /api/auth/register",id:"post-apiauthregister",level:4},{value:"User Management",id:"user-management",level:3},{value:"GET /api/auth/me",id:"get-apiauthme",level:4},{value:"PUT /api/auth/me",id:"put-apiauthme",level:4},{value:"Journey Management",id:"journey-management",level:3},{value:"POST /api/journeys",id:"post-apijourneys",level:4},{value:"GET /api/journeys",id:"get-apijourneys",level:4},{value:"Expense Management",id:"expense-management",level:3},{value:"POST /api/expenses",id:"post-apiexpenses",level:4},{value:"Admin Operations",id:"admin-operations",level:3},{value:"POST /api/admin/members",id:"post-apiadminmembers",level:4},{value:"GET /api/admin/expenses",id:"get-apiadminexpenses",level:4},{value:"Testing with cURL",id:"testing-with-curl",level:2},{value:"Login",id:"login",level:3},{value:"Create Journey (with token)",id:"create-journey-with-token",level:3},{value:"Submit Expense (with file)",id:"submit-expense-with-file",level:3},{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"API Versioning",id:"api-versioning",level:2},{value:"Postman Collection",id:"postman-collection",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The L&T Sales Tracker API is a RESTful service built with Express.js that provides endpoints for user management, journey tracking, expense management, and administrative functions."}),"\n",(0,i.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Development: ",(0,i.jsx)(n.code,{children:"http://localhost:5000"})]}),"\n",(0,i.jsxs)(n.li,{children:["Production: ",(0,i.jsx)(n.code,{children:"https://api.lt-sales-tracker.com"})," (example)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:"All protected endpoints require a JWT token in the Authorization header:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <token>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"roles",children:"Roles"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"user"}),": Regular sales team member"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"admin"}),": Administrative user"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"superadmin"}),": Super administrative user"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.p,{children:"All endpoints may return these error status codes:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Status Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Bad Request - Invalid input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"401"}),(0,i.jsx)(n.td,{children:"Unauthorized - Missing or invalid token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"403"}),(0,i.jsx)(n.td,{children:"Forbidden - Insufficient permissions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Not Found - Resource doesn't exist"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"Server Error - Internal processing error"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Common error response format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "message": "Error description",\r\n  "stack": "Error stack trace (development only)"\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.h3,{id:"authentication-1",children:"Authentication"}),"\n",(0,i.jsx)(n.h4,{id:"post-apiauthlogin",children:"POST /api/auth/login"}),"\n",(0,i.jsx)(n.p,{children:"Authenticate user and get token."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "email": "string",\r\n  "password": "string"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (200 OK)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "token": "string",\r\n  "user": {\r\n    "id": "string",\r\n    "name": "string",\r\n    "email": "string",\r\n    "role": "string"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"post-apiauthregister",children:"POST /api/auth/register"}),"\n",(0,i.jsx)(n.p,{children:"Complete user registration after invitation."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "token": "string",\r\n  "password": "string",\r\n  "name": "string"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (201 Created)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "message": "Registration successful",\r\n  "user": {\r\n    "id": "string",\r\n    "name": "string",\r\n    "email": "string",\r\n    "role": "string"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"user-management",children:"User Management"}),"\n",(0,i.jsx)(n.h4,{id:"get-apiauthme",children:"GET /api/auth/me"}),"\n",(0,i.jsx)(n.p,{children:"Get current user profile."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," Any authenticated user"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (200 OK)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "string",\r\n  "name": "string",\r\n  "email": "string",\r\n  "role": "string",\r\n  "profile": {\r\n    "phone": "string",\r\n    "address": "string"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"put-apiauthme",children:"PUT /api/auth/me"}),"\n",(0,i.jsx)(n.p,{children:"Update current user profile."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," Any authenticated user"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "name": "string",\r\n  "phone": "string",\r\n  "address": "string"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (200 OK)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "message": "Profile updated successfully",\r\n  "user": {\r\n    "id": "string",\r\n    "name": "string",\r\n    "email": "string",\r\n    "profile": {\r\n      "phone": "string",\r\n      "address": "string"\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"journey-management",children:"Journey Management"}),"\n",(0,i.jsx)(n.h4,{id:"post-apijourneys",children:"POST /api/journeys"}),"\n",(0,i.jsx)(n.p,{children:"Create a new journey record."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," user, admin"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "startLocation": "string",\r\n  "endLocation": "string",\r\n  "purpose": "string",\r\n  "expectedDuration": "number"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (201 Created)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "string",\r\n  "startLocation": "string",\r\n  "endLocation": "string",\r\n  "purpose": "string",\r\n  "expectedDuration": "number",\r\n  "status": "pending",\r\n  "createdAt": "string"\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"get-apijourneys",children:"GET /api/journeys"}),"\n",(0,i.jsx)(n.p,{children:"Get list of journeys for current user."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," user, admin"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"status"})," (optional): Filter by status (pending, approved, completed)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"startDate"})," (optional): Filter by start date"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"endDate"})," (optional): Filter by end date"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"page"})," (optional): Page number for pagination"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"limit"})," (optional): Items per page"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (200 OK)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "journeys": [{\r\n    "id": "string",\r\n    "startLocation": "string",\r\n    "endLocation": "string",\r\n    "purpose": "string",\r\n    "status": "string",\r\n    "createdAt": "string"\r\n  }],\r\n  "pagination": {\r\n    "total": "number",\r\n    "page": "number",\r\n    "pages": "number"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"expense-management",children:"Expense Management"}),"\n",(0,i.jsx)(n.h4,{id:"post-apiexpenses",children:"POST /api/expenses"}),"\n",(0,i.jsx)(n.p,{children:"Submit a new expense."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," user, admin"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body (multipart/form-data):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'{\r\n  "amount": "number",\r\n  "category": "string",\r\n  "description": "string",\r\n  "date": "string",\r\n  "receipt": "file"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (201 Created)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "string",\r\n  "amount": "number",\r\n  "category": "string",\r\n  "description": "string",\r\n  "receiptUrl": "string",\r\n  "status": "pending",\r\n  "createdAt": "string"\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"admin-operations",children:"Admin Operations"}),"\n",(0,i.jsx)(n.h4,{id:"post-apiadminmembers",children:"POST /api/admin/members"}),"\n",(0,i.jsx)(n.p,{children:"Create new team member (Admin only)."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," admin"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "email": "string",\r\n  "role": "string",\r\n  "department": "string"\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (201 Created)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "message": "Invitation sent successfully",\r\n  "member": {\r\n    "id": "string",\r\n    "email": "string",\r\n    "role": "string",\r\n    "status": "invited"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"get-apiadminexpenses",children:"GET /api/admin/expenses"}),"\n",(0,i.jsx)(n.p,{children:"Get all expenses (Admin only)."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication:"})," Required",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Roles:"})," admin"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"status"}),": Filter by status"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"userId"}),": Filter by user"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"startDate"}),": Filter by date range"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"endDate"}),": Filter by date range"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"page"}),": Page number"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"limit"}),": Items per page"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," (200 OK)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "expenses": [{\r\n    "id": "string",\r\n    "userId": "string",\r\n    "amount": "number",\r\n    "category": "string",\r\n    "status": "string",\r\n    "createdAt": "string"\r\n  }],\r\n  "pagination": {\r\n    "total": "number",\r\n    "page": "number",\r\n    "pages": "number"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"testing-with-curl",children:"Testing with cURL"}),"\n",(0,i.jsx)(n.h3,{id:"login",children:"Login"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:5000/api/auth/login \\\r\n  -H "Content-Type: application/json" \\\r\n  -d \'{"email":"user@example.com","password":"password123"}\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"create-journey-with-token",children:"Create Journey (with token)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:5000/api/journeys \\\r\n  -H "Authorization: Bearer <token>" \\\r\n  -H "Content-Type: application/json" \\\r\n  -d \'{\r\n    "startLocation": "Mumbai",\r\n    "endLocation": "Pune",\r\n    "purpose": "Client Meeting",\r\n    "expectedDuration": 3\r\n  }\'\n'})}),"\n",(0,i.jsx)(n.h3,{id:"submit-expense-with-file",children:"Submit Expense (with file)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:5000/api/expenses \\\r\n  -H "Authorization: Bearer <token>" \\\r\n  -F "amount=1000" \\\r\n  -F "category=travel" \\\r\n  -F "description=Taxi fare" \\\r\n  -F "receipt=@/path/to/receipt.jpg"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,i.jsx)(n.p,{children:"API endpoints are rate-limited to prevent abuse:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"100 requests per minute for authenticated users"}),"\n",(0,i.jsx)(n.li,{children:"20 requests per minute for unauthenticated users"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"api-versioning",children:"API Versioning"}),"\n",(0,i.jsxs)(n.p,{children:["Current version: v1 (implicit in URL)\r\nFuture versions will be explicitly versioned: ",(0,i.jsx)(n.code,{children:"/api/v2/"})]}),"\n",(0,i.jsx)(n.h2,{id:"postman-collection",children:"Postman Collection"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);